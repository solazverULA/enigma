<!--
  Generated template for the MainPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Encriptar</ion-title>
    <ion-buttons end>
      	<button ion-button icon-only (click)="topPopover($event)">
		 	<ion-icon name="more"></ion-icon>
		</button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
	<div>
		<ion-grid>
		    <ion-row>
			    <ion-col col-4>
					<ion-item>
						<ion-label>R1</ion-label>
						<ion-select 
							[(ngModel)]="positions[0]" 
							(ngModelChange)="move(0)">
							<div 
								*ngFor='let 
								letter of abcStatic; 
								trackBy: index;'>
								<ion-option 
									value="{{ letter }}">
									{{ letter }}
								</ion-option>
							</div>
						</ion-select>
					</ion-item>
			    </ion-col>
			    <ion-col col-4>
					<ion-item>
						<ion-label>R2</ion-label>
						<ion-select 
							[(ngModel)]="positions[1]" 
							(ngModelChange)="move(1)">
							<div 
								*ngFor='let 
								letter of abcStatic; 
								trackBy: index;'>
								<ion-option 
									value="{{ letter }}">
									{{ letter }}
								</ion-option>
							</div>
						</ion-select>
					</ion-item>
			    </ion-col>
			    <ion-col col-4>
					<ion-item>
						<ion-label>R3</ion-label>
						<ion-select 
							[(ngModel)]="positions[2]" 
							(ngModelChange)="move(2)">
							<div 
								*ngFor='let 
								letter of abcStatic;
								trackBy: index;'>
								<ion-option 
									value="{{ letter }}">
									{{ letter }}
								</ion-option>
							</div>
						</ion-select>
					</ion-item>
			    </ion-col>
			</ion-row>
		</ion-grid>

		<div *ngIf="realtime; else elseBlock">
			<ion-item>
				<ion-input 
			    	[(ngModel)] = "inputText"
			    	(ngModelChange) = "read()"
			    	(keyup.enter)= "read()" 
			    	placeholder="Ingrese texto:" 
			    	type="text">
			   </ion-input>
			</ion-item>
		</div>

		<ng-template #elseBlock>
			<ion-grid>
			   <ion-row>
			      <ion-col col-8>
				      <ion-item>
				      	<ion-input 
					    	[(ngModel)] = "inputText"
					    	placeholder="Ingrese texto:" 
					    	type="text">
					    	</ion-input>
					   </ion-item>
			      </ion-col>
			      <ion-col col-4>
			      	<button
			          ion-button
			          block
			          type="submit"
			          [disabled]="!inputText"
					    (click) = "read()">
			          Encriptar
			        </button>
			      </ion-col>
			    </ion-row>
			</ion-grid>
		</ng-template>

		<ion-card>
	      	{{outputText}}
	    	<button 
	    		ion-button 
	    		icon-only
	    		id="copy" 
	    		(click)="clipboard.copy(outputText)">
	        	<ion-icon name='copy'></ion-icon>
	        </button>
	        <button 
	        	ion-button 
	        	icon-only
	        	id="more" 
	        	(click)="cardPopover($event)">
	        	<ion-icon name='more'></ion-icon>
	        </button>
	   </ion-card>
   </div>
</ion-content>
